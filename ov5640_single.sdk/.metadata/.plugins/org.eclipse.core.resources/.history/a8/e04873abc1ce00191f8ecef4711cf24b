/*
 * tyb.c
 *
 *  Created on: 2019年8月15日
 *      Author: tangyuanbo
 */


#include "tyb.h"
XConv1 conv1_dev;
XConv2 conv2_dev;
XConv3 conv3_dev;
XConv4 conv4_dev;

float conv1bias[6]={ 0.062  ,0.400, -0.024 , 0.044,  0.270  ,0.268};
float conv2bias[6]={ 0.053 , 0.113 , 0.053 , 0.205  ,0.144 , 0.073};
float conv3bias[8]={ 0.091, -0.035 , 0.090 , 0.016 , 0.065,  0.076, -0.043 ,-0.015};
float conv4bias[10]={ 0.028 ,-0.040, -0.112 , 0.041 ,-0.016, -0.056, -0.007, -0.013 , 0.077  ,0.011};


float conv1weight[6][1][3][3]={{{{-0.506,-0.258,0.139},{-0.476,-0.500,-0.590},{-0.342,-0.205,0.125}}},
		{{{-0.365,-0.461,-0.374},{-0.489,-0.292,-0.503},{-0.473,-0.574,-0.168}}},
		{{{0.181,0.164,0.083},{0.149,0.528,0.564},{0.269,0.060,0.212}}},
		{{{-0.447,-0.468,-0.109},{-0.394,0.088,0.487},{0.289,0.598,0.225}}},
		{{{0.324,0.099,-0.164},{0.017,0.280,0.133},{0.388,0.103,0.422}}},
		{{{-0.120,-0.489,-0.462},{-0.502,-0.466,-0.028},{-0.239,0.040,-0.260}}}};

//float conv1bias[6]={0};
float conv2weight[6][6][3][3]=
{{{{-0.138,-0.175,0.146},{-0.275,-0.237,-0.297},{0.033,-0.073,-0.335}},
{{-0.152,-0.220,-0.015},{-0.234,-0.100,-0.131},{0.186,0.010,-0.342}},
{{0.263,0.224,0.087},{0.214,0.304,0.148},{-0.024,0.177,0.433}},
{{0.276,0.106,0.022},{-0.100,-0.078,0.174},{-0.103,-0.266,0.046}},
{{0.164,0.270,0.074},{0.045,0.251,0.411},{-0.081,0.124,0.240}},
{{-0.024,0.069,0.242},{-0.093,-0.298,-0.212},{0.042,-0.157,-0.108}}},
{{{-0.102,-0.091,0.002},{-0.336,-0.052,-0.059},{-0.029,0.142,0.457}},
{{-0.249,-0.014,-0.275},{-0.310,-0.031,-0.219},{-0.118,0.205,0.339}},
{{0.056,0.257,0.378},{0.210,0.136,0.289},{0.121,-0.256,-0.253}},
{{0.007,0.166,0.264},{-0.104,-0.068,0.139},{-0.328,-0.331,0.014}},
{{0.161,0.275,0.135},{0.153,0.123,0.303},{0.098,0.141,-0.172}},
{{-0.125,0.061,-0.213},{-0.245,-0.241,-0.040},{-0.243,0.207,0.289}}},
{{{0.184,-0.075,-0.379},{0.278,0.413,0.387},{0.209,0.260,0.149}},
{{-0.036,-0.361,-0.250},{0.263,0.359,0.236},{0.148,0.166,0.103}},
{{0.146,0.348,0.210},{-0.310,-0.228,-0.142},{-0.112,0.032,-0.082}},
{{0.010,-0.244,-0.261},{-0.036,-0.275,0.032},{0.311,0.429,0.419}},
{{-0.009,0.126,0.246},{-0.001,-0.075,-0.215},{-0.122,0.108,0.020}},
{{0.087,-0.229,-0.450},{0.029,0.160,0.162},{0.267,0.267,0.106}}},
{{{-0.059,0.037,0.109},{0.088,0.148,0.151},{-0.143,0.142,-0.058}},
{{0.035,0.092,0.298},{0.229,0.305,0.329},{0.050,0.223,-0.086}},
{{-0.067,-0.358,-0.198},{-0.186,-0.206,-0.093},{-0.123,-0.176,-0.058}},
{{-0.289,-0.448,-0.164},{-0.109,-0.157,-0.063},{-0.173,-0.171,0.007}},
{{-0.036,-0.100,-0.026},{0.068,-0.165,-0.057},{-0.051,0.071,0.053}},
{{0.124,0.208,0.155},{0.069,0.147,0.208},{0.137,0.223,0.126}}},
{{{0.205,-0.029,-0.184},{-0.098,-0.140,-0.150},{-0.272,-0.238,-0.084}},
{{0.306,-0.273,-0.283},{0.027,-0.269,-0.063},{-0.141,-0.032,0.077}},
{{0.014,0.094,0.234},{0.175,0.206,0.153},{0.286,0.225,0.110}},
{{-0.081,0.187,0.229},{0.350,0.147,-0.124},{0.126,-0.055,-0.015}},
{{0.055,0.260,0.213},{0.159,0.064,0.122},{0.062,0.264,0.286}},
{{0.105,0.072,-0.286},{0.113,-0.266,-0.141},{-0.131,-0.180,-0.061}}},
{{{-0.047,0.013,0.034},{-0.077,0.119,0.306},{-0.087,0.240,-0.183}},
{{0.103,0.223,0.311},{0.246,0.154,0.146},{0.189,0.172,0.119}},
{{-0.047,-0.299,-0.131},{-0.035,-0.316,-0.073},{-0.168,-0.185,0.075}},
{{-0.341,-0.375,-0.325},{-0.185,-0.101,0.245},{-0.281,-0.093,0.181}},
{{0.227,-0.012,-0.080},{-0.002,0.005,0.048},{0.098,0.014,-0.033}},
{{0.031,0.178,0.273},{0.236,0.060,0.191},{0.019,0.247,0.132}}}};


float conv3weight[6][8][3][3]=
{{{{0.005,0.034,0.209},{-0.141,0.005,-0.138},{-0.052,0.221,-0.019}},
{{0.196,0.030,0.175},{-0.220,0.151,0.073},{-0.049,0.194,-0.017}},
{{-0.124,0.048,0.251},{-0.210,-0.501,-0.089},{-0.061,-0.270,-0.034}},
{{0.101,0.102,-0.029},{0.048,0.034,0.233},{0.153,0.032,0.166}},
{{0.002,-0.075,0.218},{-0.031,0.284,-0.042},{0.190,-0.014,-0.287}},
{{0.013,0.194,0.196},{0.049,0.076,0.263},{0.106,0.018,0.170}}},
{{{-0.050,0.015,-0.020},{0.183,0.100,0.160},{-0.137,0.126,-0.072}},
{{-0.134,-0.094,0.140},{-0.065,-0.022,0.178},{0.076,0.187,-0.243}},
{{-0.249,-0.241,-0.178},{-0.152,-0.472,-0.293},{0.209,0.115,-0.046}},
{{0.005,-0.107,-0.028},{0.201,-0.147,0.191},{0.292,0.245,0.060}},
{{-0.035,0.252,0.216},{-0.065,0.264,0.150},{-0.145,-0.179,-0.332}},
{{0.107,-0.198,0.149},{0.007,0.124,0.094},{0.245,0.262,0.120}}},
{{{0.199,0.059,-0.198},{-0.000,-0.053,-0.229},{0.051,0.266,0.263}},
{{0.069,0.260,-0.113},{0.128,-0.064,-0.298},{0.189,0.089,0.248}},
{{-0.136,-0.161,0.060},{0.034,0.122,0.184},{-0.156,-0.156,-0.091}},
{{0.152,0.134,0.128},{0.224,0.127,0.252},{0.016,-0.243,-0.188}},
{{0.201,0.121,-0.172},{0.223,-0.277,-0.180},{0.046,0.061,0.286}},
{{0.203,0.272,0.089},{-0.068,0.115,0.292},{-0.090,-0.089,-0.167}}},
{{{0.109,-0.036,0.014},{0.050,0.008,-0.139},{0.068,-0.009,0.160}},
{{-0.156,0.095,0.189},{-0.207,0.024,0.002},{0.133,0.235,0.081}},
{{0.063,-0.272,0.143},{-0.082,-0.183,0.252},{0.116,0.221,0.092}},
{{-0.023,0.159,0.058},{0.078,0.121,0.213},{0.109,-0.036,-0.106}},
{{0.107,-0.123,0.108},{-0.092,-0.147,-0.196},{0.153,0.051,0.167}},
{{0.130,0.240,0.126},{-0.027,-0.066,0.133},{-0.113,0.177,-0.097}}},
{{{-0.129,-0.192,0.115},{-0.025,0.071,-0.232},{0.108,0.021,-0.093}},
{{-0.301,0.112,0.045},{-0.030,0.100,-0.068},{-0.010,0.217,-0.032}},
{{-0.022,0.039,0.083},{-0.036,-0.275,-0.046},{-0.298,-0.080,-0.054}},
{{0.160,0.267,0.110},{0.166,0.193,0.201},{-0.003,0.138,0.080}},
{{0.022,0.063,0.030},{0.148,0.061,-0.148},{0.228,0.179,-0.102}},
{{0.042,0.400,-0.055},{0.023,0.329,0.184},{0.124,0.014,0.146}}},
{{{0.205,0.128,0.142},{-0.134,0.085,0.013},{-0.061,-0.253,-0.223}},
{{0.304,0.040,0.106},{0.299,0.147,0.085},{-0.074,0.009,-0.056}},
{{0.243,0.017,-0.038},{0.475,0.448,0.020},{0.083,0.308,-0.115}},
{{-0.130,-0.116,-0.103},{0.009,-0.029,0.142},{0.088,0.150,0.113}},
{{0.188,0.250,0.024},{-0.241,-0.031,0.116},{-0.240,-0.017,0.055}},
{{-0.024,-0.152,0.141},{0.119,-0.105,0.087},{0.197,0.368,0.269}}}};


float conv4weight[8][10][3][3]=
{{{{0.091,-0.005,-0.176},{0.169,0.114,-0.276},{0.077,-0.089,0.091}},
{{0.040,-0.018,-0.039},{0.048,0.005,-0.078},{0.018,-0.135,-0.086}},
{{0.005,-0.156,0.058},{-0.136,0.043,-0.051},{0.033,0.228,-0.215}},
{{0.026,-0.109,-0.170},{-0.178,0.121,-0.105},{-0.064,0.048,-0.122}},
{{0.043,-0.033,-0.098},{0.080,0.252,-0.185},{0.051,0.156,0.029}},
{{-0.088,0.038,-0.082},{-0.178,-0.025,0.037},{-0.103,-0.220,-0.137}}},
{{{-0.017,0.129,0.231},{-0.216,-0.009,0.100},{0.136,0.105,-0.053}},
{{-0.037,0.172,0.080},{0.026,0.180,0.029},{-0.067,0.167,-0.056}},
{{-0.091,0.010,-0.066},{0.010,-0.053,0.052},{-0.057,-0.144,0.240}},
{{-0.025,0.188,0.030},{-0.018,-0.101,0.209},{-0.006,-0.002,0.197}},
{{-0.145,-0.023,0.113},{-0.112,-0.015,0.125},{0.025,0.108,0.137}},
{{-0.044,0.077,-0.252},{-0.097,0.217,-0.186},{-0.150,0.055,-0.017}}},
{{{0.022,-0.053,-0.007},{0.014,0.095,-0.020},{0.125,0.108,-0.223}},
{{-0.076,0.015,-0.102},{-0.243,-0.260,-0.081},{-0.018,-0.039,-0.104}},
{{0.136,0.016,0.069},{-0.047,0.054,0.049},{0.071,-0.071,0.051}},
{{-0.042,-0.079,-0.038},{-0.122,-0.052,-0.028},{-0.137,-0.005,0.015}},
{{-0.018,-0.146,-0.053},{0.045,0.114,-0.093},{-0.037,-0.004,-0.218}},
{{0.055,0.192,0.164},{0.124,0.082,-0.142},{-0.107,0.097,-0.135}}},
{{{-0.117,-0.276,0.064},{0.020,0.066,-0.164},{-0.046,-0.224,-0.054}},
{{-0.193,-0.016,0.042},{-0.005,0.176,-0.078},{-0.101,-0.225,-0.064}},
{{0.059,-0.057,0.038},{0.133,-0.086,-0.046},{-0.012,-0.003,0.037}},
{{0.073,-0.194,-0.055},{-0.147,-0.083,-0.103},{0.145,-0.112,0.042}},
{{-0.141,-0.217,-0.065},{-0.095,-0.219,-0.033},{0.051,0.007,-0.093}},
{{0.191,0.182,0.105},{-0.030,0.064,-0.081},{-0.018,0.115,0.102}}},
{{{0.108,0.007,0.192},{-0.060,-0.235,0.183},{-0.202,-0.033,0.101}},
{{0.003,0.121,0.048},{0.123,-0.004,0.289},{0.087,0.059,0.143}},
{{0.131,0.108,-0.136},{-0.089,0.187,-0.026},{-0.064,-0.078,-0.141}},
{{-0.134,0.110,0.031},{0.057,0.002,0.016},{-0.043,-0.204,-0.187}},
{{0.012,0.160,-0.043},{0.161,-0.024,-0.002},{-0.070,-0.111,-0.087}},
{{-0.094,-0.161,-0.160},{-0.156,-0.034,-0.133},{0.159,0.044,-0.017}}},
{{{0.017,0.064,-0.172},{0.041,0.010,0.015},{-0.072,-0.133,-0.017}},
{{0.060,-0.036,0.001},{0.160,-0.016,-0.161},{-0.045,-0.079,-0.227}},
{{0.129,0.147,-0.156},{-0.016,0.008,-0.018},{0.053,0.098,-0.073}},
{{0.080,0.042,-0.073},{0.073,0.119,0.283},{0.126,0.074,0.138}},
{{-0.168,0.131,-0.177},{-0.122,-0.051,0.137},{0.081,0.032,0.034}},
{{-0.126,-0.150,0.113},{0.099,0.040,0.071},{-0.112,0.110,-0.055}}}};



float fc1_weight[1470]={
		0.127,0.015,-0.065,-0.227,-0.186,-0.235,-0.209,0.107,-0.012,-0.025,-0.079,-0.067,-0.187,-0.258,-0.020,-0.053,-0.010,-0.024,0.082,-0.081,-0.123,-0.233,-0.051,-0.043,0.141,0.042,-0.006,-0.250,-0.141,0.045,0.222,0.065,0.080,-0.014,-0.069,-0.115,0.161,0.211,0.220,0.115,0.036,-0.090,-0.088,0.011,0.156,0.081,0.044,-0.019,-0.027,-0.088,0.087,0.108,0.084,-0.004,-0.003,-0.044,-0.002,-0.024,0.011,0.028,0.054,-0.031,0.048,-0.021,-0.046,-0.002,-0.113,-0.032,-0.007,-0.018,-0.013,0.068,-0.073,-0.011,-0.032,-0.047,-0.012,-0.008,0.043,-0.050,0.031,0.012,-0.016,0.101,-0.089,0.051,-0.039,-0.014,0.042,0.097,0.032,-0.054,0.066,-0.056,-0.032,0.107,-0.021,0.091,0.128,0.033,0.041,0.006,0.001,0.033,0.059,-0.000,-0.015,-0.122,-0.046,0.093,0.109,0.100,0.079,0.078,-0.080,0.004,0.083,0.097,0.320,0.131,-0.032,-0.022,-0.063,0.022,0.136,0.172,0.119,-0.109,-0.055,-0.088,-0.095,0.065,0.109,0.030,-0.114,-0.152,-0.015,-0.062,-0.012,-0.018,0.056,-0.035,-0.030,-0.107,-0.037,-0.092,0.011,
		0.112,-0.005,0.078,-0.078,-0.034,-0.133,0.023,-0.071,0.084,0.045,-0.282,-0.256,0.029,0.014,-0.096,0.059,-0.056,-0.286,-0.202,-0.037,0.066,0.006,0.054,-0.204,-0.146,-0.148,-0.074,0.056,0.184,-0.036,-0.136,-0.048,-0.174,0.114,0.217,0.203,-0.002,-0.045,-0.149,-0.001,0.089,0.116,-0.005,-0.092,-0.066,0.021,0.116,0.097,0.064,0.016,-0.100,-0.117,0.012,0.017,0.012,-0.015,0.025,0.048,-0.018,-0.037,-0.065,-0.001,-0.058,0.035,-0.030,-0.020,0.061,0.022,0.023,0.073,-0.048,-0.055,0.014,-0.039,0.106,0.018,-0.001,0.006,-0.002,0.092,0.036,0.141,0.040,-0.053,-0.045,-0.082,0.047,0.109,-0.032,0.017,-0.093,-0.031,0.016,-0.051,0.065,-0.012,-0.038,-0.013,-0.019,0.174,0.141,0.303,0.234,0.036,-0.016,-0.087,0.089,0.104,0.053,0.002,-0.027,0.071,-0.184,0.094,0.048,-0.017,0.037,0.023,-0.077,-0.077,0.118,0.078,-0.022,0.043,-0.073,-0.099,0.024,0.013,0.218,0.066,-0.028,0.002,0.061,-0.010,0.064,0.258,0.118,-0.070,0.012,-0.004,0.034,0.012,0.089,-0.001,0.052,-0.072,0.004,
		-0.074,0.074,-0.098,-0.035,-0.106,-0.061,0.022,0.477,0.234,0.004,-0.076,0.014,-0.161,0.006,0.437,-0.002,-0.084,-0.034,-0.006,0.004,0.068,0.386,-0.006,-0.168,-0.169,-0.111,0.027,0.132,0.177,0.073,-0.103,-0.122,-0.037,0.132,0.283,-0.113,-0.002,0.017,0.053,0.186,0.324,0.195,-0.220,-0.113,-0.117,-0.033,-0.033,0.016,-0.259,0.093,0.079,-0.002,0.018,-0.118,-0.005,-0.197,0.102,0.090,-0.092,0.008,-0.001,-0.056,-0.061,-0.073,0.031,-0.033,-0.038,-0.065,-0.110,-0.131,-0.042,0.036,0.057,0.052,-0.032,-0.059,-0.123,0.014,0.121,0.043,0.123,0.058,0.028,0.034,-0.007,-0.056,0.034,0.100,0.058,0.082,0.064,-0.067,-0.053,0.087,0.065,0.075,0.016,0.035,-0.067,-0.204,-0.210,-0.029,-0.031,-0.020,0.024,0.061,-0.168,0.050,0.102,0.151,0.094,0.018,-0.056,-0.094,0.017,0.085,0.145,0.066,-0.087,0.032,0.059,0.086,0.189,0.090,0.017,-0.086,0.035,0.052,0.060,0.015,-0.022,-0.086,-0.122,-0.031,0.156,-0.008,-0.019,-0.101,-0.084,-0.082,-0.065,-0.112,-0.220,-0.165,-0.161,-0.022,0.010,
		-0.026,0.101,0.110,-0.096,-0.177,-0.163,0.023,0.189,0.022,-0.051,0.118,-0.114,-0.218,-0.099,0.136,0.130,0.044,0.026,-0.081,-0.127,0.079,0.201,0.025,-0.058,-0.007,-0.086,-0.023,-0.004,0.266,0.245,0.181,-0.030,-0.060,-0.031,-0.084,0.250,0.261,0.113,0.094,0.108,-0.004,-0.026,0.258,0.367,0.264,0.091,0.018,-0.211,-0.194,0.183,0.132,0.075,0.021,0.014,-0.087,-0.050,-0.009,-0.008,0.044,-0.023,-0.024,-0.052,-0.071,0.034,0.019,-0.050,0.029,-0.002,-0.014,-0.066,-0.034,-0.035,-0.098,0.055,-0.068,-0.050,0.022,-0.002,0.075,-0.070,0.033,0.007,-0.100,-0.031,0.083,-0.016,0.030,-0.028,-0.076,-0.017,0.073,0.102,0.021,0.051,0.016,-0.096,0.080,0.100,-0.263,-0.163,-0.168,-0.122,-0.030,-0.007,-0.081,0.286,0.235,0.104,0.061,0.079,0.018,-0.088,0.106,0.201,0.136,0.062,-0.103,-0.088,-0.009,-0.069,0.120,-0.044,-0.210,-0.026,-0.085,-0.125,-0.193,-0.087,-0.147,-0.086,-0.079,-0.160,-0.118,-0.059,-0.053,-0.024,0.045,0.032,0.054,0.048,-0.004,0.117,0.103,0.098,0.181,0.093,-0.067,
		0.096,-0.006,0.042,0.094,0.185,-0.094,-0.203,-0.002,-0.181,-0.146,0.066,-0.095,-0.260,0.073,-0.055,-0.137,0.082,0.119,0.042,-0.157,0.211,-0.171,-0.059,0.026,0.053,0.063,-0.103,-0.143,-0.000,-0.088,-0.209,-0.258,-0.233,-0.261,-0.184,0.110,0.100,-0.125,-0.170,-0.123,0.018,0.170,0.139,-0.055,-0.029,-0.043,-0.105,0.127,0.240,-0.002,-0.095,-0.031,-0.207,-0.163,-0.243,-0.030,-0.087,-0.018,-0.024,-0.044,-0.014,-0.000,0.007,0.037,0.016,0.075,-0.089,-0.096,-0.041,-0.043,0.036,0.158,0.101,0.075,0.018,0.124,0.067,0.029,0.079,0.131,0.074,0.086,0.027,0.045,0.085,0.094,0.073,0.119,0.093,-0.013,-0.018,0.052,-0.074,-0.099,-0.069,0.049,-0.066,-0.057,0.147,0.100,-0.016,0.324,0.332,0.328,0.225,0.075,0.075,-0.070,0.130,0.007,0.124,0.073,0.021,0.069,-0.084,-0.039,0.025,-0.005,-0.007,-0.032,0.003,-0.020,0.069,0.107,0.012,-0.002,-0.139,0.040,-0.010,0.107,-0.033,-0.012,-0.044,0.001,0.053,0.127,0.098,0.044,0.067,-0.050,0.059,0.091,0.140,0.230,0.201,0.067,0.048,
		-0.182,-0.133,0.023,0.104,0.097,0.059,-0.151,-0.170,-0.056,0.017,0.005,0.155,0.147,-0.006,-0.004,-0.052,-0.062,-0.044,0.022,0.134,-0.021,0.111,0.007,-0.129,-0.055,-0.006,0.096,0.107,0.259,0.216,0.113,0.005,-0.045,0.001,0.079,0.245,0.150,0.104,0.069,0.114,0.051,0.130,0.177,0.201,0.149,0.022,0.007,0.048,0.057,-0.115,-0.032,0.089,0.034,0.046,0.146,0.185,-0.104,-0.010,-0.058,0.065,0.071,0.184,0.180,-0.007,-0.073,0.038,0.053,0.043,-0.007,-0.034,0.047,-0.039,-0.034,0.037,0.006,-0.118,-0.130,0.030,-0.026,0.022,0.011,-0.104,-0.107,0.056,0.057,0.149,0.106,-0.020,-0.010,0.089,0.007,0.030,0.120,-0.018,0.002,-0.095,-0.040,-0.159,0.119,0.115,0.232,-0.067,-0.115,-0.062,-0.106,-0.096,-0.028,-0.029,-0.145,-0.125,-0.226,-0.175,-0.033,-0.025,-0.029,-0.058,-0.051,-0.169,-0.200,-0.120,-0.147,-0.113,-0.061,-0.029,-0.063,-0.112,-0.156,-0.237,-0.193,-0.013,0.127,0.016,-0.003,-0.023,-0.030,0.004,0.089,0.066,0.041,0.052,0.063,0.007,0.030,-0.054,-0.014,-0.056,0.042,
		0.006,0.045,-0.018,-0.064,0.080,0.107,0.032,-0.022,0.011,-0.014,0.032,0.061,0.137,0.117,-0.073,-0.035,0.062,0.058,0.051,0.166,0.016,-0.173,-0.044,-0.031,-0.036,0.061,0.024,0.056,-0.081,-0.067,-0.019,-0.051,0.077,0.051,-0.001,-0.088,-0.048,-0.109,0.053,0.055,-0.001,-0.097,-0.011,-0.008,0.032,-0.007,-0.067,-0.064,-0.028,-0.115,-0.054,-0.052,-0.045,-0.002,-0.014,0.102,-0.004,-0.039,-0.067,-0.010,-0.073,0.069,-0.040,0.007,-0.053,-0.016,-0.100,0.033,-0.026,-0.068,0.011,-0.074,0.011,0.052,0.028,-0.006,0.013,0.031,-0.090,0.012,-0.074,-0.060,-0.113,-0.012,-0.027,-0.010,0.040,0.019,0.036,0.060,0.056,0.005,0.084,0.014,0.117,0.112,0.101,-0.028,0.044,0.044,0.081,-0.019,0.098,-0.064,0.012,0.050,0.104,0.033,0.061,0.090,-0.028,0.036,-0.032,0.020,0.005,0.020,-0.056,-0.086,-0.007,0.026,-0.017,0.063,0.010,-0.041,-0.057,-0.034,0.071,-0.021,-0.093,-0.099,0.013,0.016,0.042,-0.029,-0.076,-0.119,0.019,0.006,0.029,0.021,0.047,0.032,-0.033,0.014,-0.087,-0.009,0.056,
		0.033,0.141,0.033,-0.018,-0.040,-0.046,-0.139,0.066,-0.012,0.003,-0.187,-0.270,-0.283,-0.198,0.233,0.161,-0.017,0.098,-0.230,-0.183,-0.007,0.086,0.025,0.014,-0.009,-0.113,-0.076,-0.191,0.123,0.008,-0.102,-0.157,-0.091,-0.170,-0.204,0.298,-0.034,-0.129,-0.130,-0.034,-0.022,-0.037,0.266,0.093,0.067,0.032,0.084,0.230,0.272,0.118,0.054,-0.034,0.039,0.011,0.095,0.095,0.020,0.143,0.062,0.139,0.128,0.031,-0.040,-0.057,0.017,0.063,0.126,0.093,0.062,-0.054,-0.055,-0.013,-0.035,-0.004,0.076,-0.042,0.057,-0.025,-0.001,-0.050,-0.069,-0.043,0.107,0.020,-0.064,-0.119,-0.009,-0.076,0.102,0.113,0.040,-0.055,-0.042,0.018,-0.105,-0.034,-0.054,-0.020,-0.113,-0.091,-0.163,-0.071,0.028,0.113,-0.012,0.043,-0.141,-0.091,-0.072,-0.012,0.007,0.045,0.075,0.083,0.208,0.130,0.063,0.099,0.070,0.052,0.086,0.192,0.178,0.190,0.080,0.073,0.046,0.070,0.093,0.138,0.224,0.194,-0.015,-0.000,0.018,0.013,0.101,0.125,-0.039,-0.009,0.009,0.096,0.196,0.105,-0.005,-0.098,0.072,
		-0.063,-0.073,-0.060,0.110,-0.008,-0.094,-0.091,-0.142,0.012,0.159,0.093,0.070,-0.137,-0.283,0.209,-0.025,0.023,0.178,0.055,-0.177,0.005,0.264,-0.035,-0.092,-0.126,-0.252,0.052,0.272,0.219,-0.033,-0.084,-0.027,-0.158,-0.084,0.214,-0.084,-0.170,0.293,0.200,0.103,-0.029,0.254,-0.109,-0.083,0.110,0.108,-0.053,-0.009,0.069,0.030,-0.082,0.108,-0.004,-0.052,0.029,0.081,0.004,-0.101,-0.055,0.018,0.024,-0.041,0.116,0.012,0.065,-0.042,0.057,0.112,0.060,0.098,0.114,-0.025,0.002,0.050,0.068,0.025,0.151,-0.046,-0.031,0.004,0.050,0.077,-0.042,0.033,-0.019,-0.112,-0.015,-0.107,-0.044,-0.063,-0.007,0.037,0.036,0.053,-0.051,-0.068,-0.001,0.105,0.153,-0.000,-0.054,-0.315,-0.270,-0.064,0.075,0.015,0.085,-0.036,-0.102,-0.047,0.108,0.042,0.017,-0.033,0.031,-0.109,0.014,0.022,-0.009,0.096,-0.012,0.151,-0.039,-0.010,-0.136,-0.095,0.065,0.131,0.054,0.061,0.058,-0.013,-0.080,0.124,0.071,-0.010,0.013,-0.064,-0.025,0.044,-0.006,0.150,0.003,-0.007,0.058,0.027,0.053,
		0.093,0.065,-0.157,-0.131,-0.119,-0.160,0.091,-0.350,-0.184,-0.027,0.054,-0.084,-0.200,-0.233,-0.351,0.043,0.283,0.096,-0.058,-0.203,-0.146,-0.245,0.122,0.085,-0.045,-0.077,-0.213,-0.006,0.099,0.041,-0.072,-0.073,-0.115,-0.261,-0.031,0.162,0.285,0.223,-0.004,-0.139,-0.135,0.086,0.269,0.236,0.163,-0.027,0.000,0.146,0.376,-0.015,-0.017,0.045,0.112,0.090,0.018,-0.046,-0.029,0.009,-0.008,-0.203,-0.080,0.039,0.117,0.007,0.004,-0.024,-0.011,-0.032,0.055,0.132,-0.030,0.046,-0.021,0.014,0.042,0.000,0.119,0.050,0.069,-0.014,0.049,-0.058,0.086,-0.045,0.033,0.088,0.123,0.094,0.089,0.035,0.058,0.030,0.072,0.043,-0.032,-0.082,-0.140,-0.037,0.183,0.144,0.082,-0.201,-0.170,-0.188,-0.137,0.024,0.056,0.054,0.056,0.026,0.046,0.070,-0.002,0.008,0.045,0.077,0.109,0.039,0.036,-0.058,-0.132,-0.038,-0.109,0.011,0.120,0.075,0.003,-0.015,-0.043,0.067,0.119,0.029,-0.005,-0.047,-0.001,-0.003,0.101,0.096,0.083,0.019,0.082,0.178,0.173,0.343,0.343,0.197,0.074};


float fc1_bias[10]={0.045,-0.038,-0.062,0.031,-0.038,-0.056,-0.091,0.061,0.255,0.248};
int conv_finish=0;
float last_res[10]={0};
float shuzi3[784]={0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.08,0.50,0.50,0.74,0.91,0.70,0.40,0.02,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.15,0.39,0.83,0.99,0.99,0.99,0.99,0.99,0.99,0.54,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.58,0.99,0.99,0.99,0.99,0.99,0.99,0.99,0.99,0.99,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.49,0.88,0.98,0.83,0.83,0.69,0.99,0.99,0.99,0.34,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.08,0.23,0.00,0.00,0.62,0.99,0.96,0.55,0.04,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.03,0.29,0.50,0.84,0.99,0.79,0.45,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.13,0.53,0.66,0.66,0.77,0.99,0.99,0.99,0.50,0.08,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.28,0.91,0.99,0.99,0.99,0.99,0.99,0.99,0.99,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.37,0.96,0.99,0.99,0.83,0.69,0.43,0.85,0.99,0.59,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.27,0.75,0.06,0.00,0.00,0.00,0.08,0.25,0.25,0.25,0.00,0.00,0.05,0.68,0.99,0.59,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.75,0.99,0.67,0.03,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.04,0.82,0.99,0.62,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.85,0.99,0.93,0.11,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.44,0.88,0.99,0.27,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.65,0.99,0.98,0.55,0.07,0.00,0.00,0.00,0.00,0.00,0.00,0.28,0.98,0.99,0.47,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.31,0.95,0.99,0.99,0.99,0.58,0.58,0.58,0.58,0.58,1.00,0.99,0.91,0.55,0.07,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.19,0.45,0.88,0.99,0.99,0.99,0.99,0.99,0.99,0.80,0.66,0.16,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.05,0.08,0.33,0.49,0.49,0.49,0.15,0.04,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00};
float shuzi4[784]={0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.153,0.918,0.808,0.059,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.561,0.996,0.996,0.506,0.000,0.000,0.000,0.000,0.055,0.016,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.647,0.996,0.996,0.506,0.000,0.000,0.051,0.569,0.796,0.502,0.008,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.627,0.996,0.878,0.369,0.000,0.000,0.235,0.996,0.996,0.875,0.016,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.173,0.953,0.996,0.576,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.212,0.996,0.996,0.576,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.212,0.996,0.996,0.565,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.212,0.996,0.996,0.114,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.055,0.094,0.094,0.067,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.502,0.996,0.776,0.043,0.000,0.094,0.165,0.576,0.996,0.996,0.835,0.627,0.843,0.996,0.996,0.878,0.086,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.102,0.902,0.996,0.894,0.486,0.698,0.867,0.996,1.000,0.996,1.000,0.996,0.996,1.000,0.996,0.937,0.612,0.043,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.098,0.902,0.996,0.996,0.996,0.996,0.996,0.808,0.906,0.996,0.996,0.655,0.231,0.231,0.231,0.173,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.110,0.161,0.161,0.161,0.161,0.161,0.059,0.310,0.996,1.000,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.443,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.243,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.235,0.996,0.996,0.553,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.125,0.890,0.824,0.298,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000};
float shuzi5[784]={0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.32,0.61,0.18,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.19,0.27,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.15,0.59,0.96,1.00,0.27,0.00,0.00,0.00,0.00,0.00,0.11,0.40,0.59,0.84,0.97,0.49,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.24,0.91,1.00,0.86,0.39,0.40,0.58,0.58,0.58,0.62,0.80,0.95,1.00,0.98,0.63,0.30,0.03,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.92,1.00,1.00,0.64,0.49,0.63,1.00,1.00,1.00,1.00,1.00,0.80,0.30,0.09,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.41,0.98,1.00,1.00,1.00,0.74,0.26,0.40,0.12,0.12,0.12,0.03,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.13,0.33,0.82,1.00,1.00,0.62,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.04,0.22,0.93,0.97,0.60,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.21,0.93,0.97,0.21,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.80,1.00,0.68,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.66,1.00,0.82,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.18,0.00,0.00,0.00,0.00,0.00,0.00,0.02,0.17,0.91,1.00,0.38,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.78,0.55,0.33,0.09,0.17,0.51,0.65,0.81,1.00,1.00,0.85,0.04,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.51,0.99,1.00,1.00,1.00,1.00,1.00,1.00,1.00,0.82,0.13,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.27,0.60,0.61,0.61,0.61,0.61,0.31,0.27,0.04,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
		0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00};
float max=0;
int max_pos=0;
float main_src[5]={0.3,2.1,1.1,1.6,1.0};
float main_dst[5]={6.1,2.1,1.1,1.5,1.0};
float weight[9*6]={0.0};
float pic[100*100*3];
float output[98*98];

float tar_small_pic[1][240][240];
float conv1_result[6][119][119]={0.0};
float conv2_result[6][58][58]={0.0};
float conv3_result[8][56][56]={0.0};
float conv4_result[10][54][54]={0.0};



u8 kaobei[300]={0};
int count=0;
int src_x,src_y,w,h,tar_x,tar_y;

float relu(float x)
{
if(x>0)
	return x;
else
	return 0;

}

int InterruptInit(u16 DeviceId, XScuGic *XScuGicInstancePtr)
{

	XScuGic_Config *IntcConfig;
	int status;
	// Interrupt controller initialization
	IntcConfig = XScuGic_LookupConfig(DeviceId);
	status = XScuGic_CfgInitialize(XScuGicInstancePtr, IntcConfig, IntcConfig->CpuBaseAddress);
	if(status != XST_SUCCESS) return XST_FAILURE;

	// Call interrupt setup function
	Xil_ExceptionRegisterHandler(XIL_EXCEPTION_ID_INT,(Xil_ExceptionHandler)XScuGic_InterruptHandler, XScuGicInstancePtr);
	Xil_ExceptionEnable();

	return XST_SUCCESS;
}

int InterruptConnect(XScuGic *XScuGicInstancePtr,u32 Int_Id,void * Handler,void *CallBackRef)
{
	int status;
	// Register GPIO interrupt handler
	status = XScuGic_Connect(XScuGicInstancePtr,Int_Id,(Xil_InterruptHandler)Handler,CallBackRef);
	if(status != XST_SUCCESS)
	{
		return XST_FAILURE;
	}
	XScuGic_SetPriorityTriggerType(XScuGicInstancePtr, Int_Id, 0, 3);
	XScuGic_Enable(XScuGicInstancePtr, Int_Id);
	return XST_SUCCESS;
}

void hls_core_1_Exception(XHls_core_1 *pXAverageInstance)
{
	float average;
	int state;
	int i=0;

	state = XHls_core_1_InterruptGetStatus(pXAverageInstance);
	average = XHls_core_1_Get_return(pXAverageInstance);

	XHls_core_1_InterruptClear(pXAverageInstance, state);

	printf("hls_core_1_res:-----------------------------\r\n");
			Xil_DCacheFlush();
			for(i=0;i<26*26;i++)
			{
						if(i%26==0)
								printf("\r\n");
						printf("%-4.2f ",(output[i]));
			}
			printf("********\r\n");
			for(i=0;i<26*26;i++)
			{
						if(i%26==0)
								printf("\r\n");
						printf("%-4.2f ",(output[26*26+i]));
			}
			printf("------------------------------------------------------ ");
			for(i=0;i<784;i++)
			{
				if(i%28==0)
						printf("\r\n");
				printf("%-4.2f ",shuzi4[i]);

			}
			printf("a\r\n ");


//XHls_core_1_Start(&myDev);

}

void conv1_Exception(XConv1 *pXAverageInstance)
{
		float average;
		int state;
		int i,j=0;
		int wh=13;
		int cout=6;
		state = XConv1_InterruptGetStatus(pXAverageInstance);
		average = XConv1_Get_return(pXAverageInstance);
		XConv1_InterruptClear(pXAverageInstance, state);
	/*	printf("conv1_res:-----------------------------\r\n");

				for(j=0;j<cout;j++)
				{
					//printf("kernel -----%d \r\n",j);
				Xil_DCacheFlush();
					for(i=0;i<wh*wh;i++)
					{
						if(i%wh==0)
						printf("\r\n");
						printf("%-4.2f ",(conv1_result[j*wh*wh+i]));
					}
					printf("*******************\r\n");
				}
	//XConv1_Start(&myDev);
				printf("+++++++++++++++++++++++++++start conv2\r\n");
			*/
				XConv2_Start(&conv2_dev);
}
void conv2_Exception(XConv2 *pXAverageInstance)
{
		float average;
		int state;
		int i,j=0;
		int wh=11;
		int cout=6;
		state = XConv1_InterruptGetStatus(pXAverageInstance);
		average = XConv2_Get_return(pXAverageInstance);
		XConv2_InterruptClear(pXAverageInstance, state);
	/*	printf("conv2_res:-----------------------------\r\n");
				Xil_DCacheFlush();
				for(j=0;j<cout;j++)
				{printf("kernel -----%d \r\n",j);
					for(i=0;i<wh*wh;i++)
					{
						if(i%wh==0)
						printf("\r\n");
						printf("%-4.2f ",(conv2_result[j*wh*wh+i]));
					}
					printf("*******************\r\n");
				}
	//XConv2_Start(&myDev);*/
				XConv3_Start(&conv3_dev);
}
void conv3_Exception(XConv3 *pXAverageInstance)
{
		float average;
		int state;
		int i,j=0;
		int wh=13;
		int cout=6;
		state = XConv3_InterruptGetStatus(pXAverageInstance);
		average = XConv3_Get_return(pXAverageInstance);
		XConv3_InterruptClear(pXAverageInstance, state);
		/*printf("conv3_res:-----------------------------\r\n");
				Xil_DCacheFlush();
				for(j=0;j<cout;j++)
				{printf("kernel -----%d \r\n",j);
					for(i=0;i<wh*wh;i++)
					{
						if(i%wh==0)
						printf("\r\n");
						printf("%-4.2f ",(conv3_result[j*wh*wh+i]));
					}
					printf("*******************\r\n");
				}*/
	XConv4_Start(&conv4_dev);
}
void conv4_Exception(XConv4 *pXAverageInstance)
{
		float average;
		int state;
		int i,j=0;
		int wh=7;
		int cout=3;
		state = XConv4_InterruptGetStatus(pXAverageInstance);
		average = XConv4_Get_return(pXAverageInstance);
		XConv4_InterruptClear(pXAverageInstance, state);
	/*	printf("conv4_res:-----------------------------\r\n");
				Xil_DCacheFlush();
				for(j=0;j<cout;j++)
				{printf("kernel -----%d \r\n",j);
					for(i=0;i<wh*wh;i++)
					{
						if(i%wh==0)
						printf("\r\n");
						printf("%-4.2f ",(conv4_result[j*wh*wh+i]));
					}
					printf("*******************\r\n");
				}*/
				conv_finish=1;
	//XConv4_Start(&myDev);
}
void hls_core_1_ExceptionInit(XScuGic *pXScuGicInstance, XHls_core_1 *ptr)
{
	InterruptInit(XPAR_XSCUTIMER_0_DEVICE_ID, pXScuGicInstance);
	InterruptConnect(pXScuGicInstance, XPAR_FABRIC_HLS_CORE_1_0_VEC_ID, hls_core_1_Exception, ptr);
	XHls_core_1_InterruptGlobalEnable(ptr);
}
void conv1_ExceptionInit(XScuGic *pXScuGicInstance, XConv1 *ptr)
{
	InterruptInit(XPAR_XSCUTIMER_0_DEVICE_ID, pXScuGicInstance);
	InterruptConnect(pXScuGicInstance, XPAR_FABRIC_CONV1_0_VEC_ID, conv1_Exception, ptr);
	XConv1_InterruptGlobalEnable(ptr);
}
void conv2_ExceptionInit(XScuGic *pXScuGicInstance, XConv2 *ptr)
{
	InterruptInit(XPAR_XSCUTIMER_0_DEVICE_ID, pXScuGicInstance);
	InterruptConnect(pXScuGicInstance, XPAR_FABRIC_CONV2_0_VEC_ID, conv2_Exception, ptr);
	XConv2_InterruptGlobalEnable(ptr);
}
void conv3_ExceptionInit(XScuGic *pXScuGicInstance, XConv3 *ptr)
{
	InterruptInit(XPAR_XSCUTIMER_0_DEVICE_ID, pXScuGicInstance);
	InterruptConnect(pXScuGicInstance, XPAR_FABRIC_CONV3_0_VEC_ID, conv3_Exception, ptr);
	XConv3_InterruptGlobalEnable(ptr);
}
void conv4_ExceptionInit(XScuGic *pXScuGicInstance, XConv4 *ptr)
{
	InterruptInit(XPAR_XSCUTIMER_0_DEVICE_ID, pXScuGicInstance);
	InterruptConnect(pXScuGicInstance, XPAR_FABRIC_CONV4_0_VEC_ID, conv4_Exception, ptr);
	XConv4_InterruptGlobalEnable(ptr);
}



/*
 把灰度值图片使用rgb（三个都设置为灰度）的方式在屏幕上以一定倍数显示
 */
void tyb_display(float *img,u8 *dst,int bili,int w_h,int pos_x,int pos_y)
{
	int i,j,p,o=0;
	int real_w_h;
	real_w_h=w_h*bili;
	for (i=0;i<w_h;i++)
		for (j=0;j<w_h;j++)
			for (p=0;p<bili;p++)
				for (o=0;o<bili;o++)
					{
					dst[((pos_x+i*bili+p)*1280+pos_y+j*bili+o)*3]=(u8)200*img[i*w_h+j];
					dst[((pos_x+i*bili+p)*1280+pos_y+j*bili+o)*3+1]=(u8)200*img[i*w_h+j];
					dst[((pos_x+i*bili+p)*1280+pos_y+j*bili+o)*3+2]=(u8)200*img[i*w_h+j];
					}


}
/*彩图缩略图*/
void tyb_display2(u8 *img,u8 *dst,int pos_x,int pos_y)
{
	int i,j,p,o=0;

	for (i=0;i<72*2;i++)
		for (j=0;j<128*2;j++)
					{
						dst[((pos_x+i)*1280+pos_y+j)*3]=img[((i*5)*1280+j*5)*3];
						dst[((pos_x+i)*1280+pos_y+j)*3+1]=img[((i*5)*1280+j*5)*3+1];
						dst[((pos_x+i)*1280+pos_y+j)*3+2]=img[((i*5)*1280+j*5)*3+2];
					}


}
/*灰度缩略图*/
void tyb_display3(u8 *img,u8 *dst,int pos_x,int pos_y)
{
	int i,j,p,o=0;
u8 out_pixel=0;
int pixel_index=0;
	for (i=0;i<28;i++)
		for (j=0;j<28;j++)
					{
			pixel_index=((i*25)*1280+j*25)*3;
			out_pixel = (u8)(img[pixel_index]*0.299 + img[pixel_index+1]*0.587 + img[pixel_index+2]*0.114);

						dst[((pos_x+i)*1280+pos_y+j)*3]=out_pixel;
						dst[((pos_x+i)*1280+pos_y+j)*3+1]=out_pixel;
						dst[((pos_x+i)*1280+pos_y+j)*3+2]=out_pixel;
					}


}
void rgb2grey(u8 *img,float ***dst)
{
	int i,j,p,o=0;
float out_pixel=0;
int pixel_index=0;
int count=0;
	for (i=0;i<240;i++)
		for (j=0;j<240;j++)

					{

						pixel_index=((i*3)*1280+j*3)*3;
						out_pixel = (float)(img[pixel_index]*0.00117 + img[pixel_index+1]*0.0023 + img[pixel_index+2]*0.000447);
						dst[i][j]=out_pixel;

					}


}
